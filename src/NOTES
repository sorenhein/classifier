sensor00:
* 074731: Supposed to be 2_32_N, but first wagon has odd gaps.
  Can probably help by penalizing early deletions more than is
  currently the case, but might still come out as 3_32_N.

sensor02:
* 183336, #19:
  - We get the right peaks, almost, but the one at 205 is > 0.f,
    so we're missing not ref peak #0 but #1
  - This goes in Needleman-Wunsch somehow.

* 185610, #20:
  - As above, 210 (maybe)

* 072015, #34:
  - Here wheel distance seems OK
  - We should also look for bogeys with small negative peaks
    in between, e.g. 2360-2449.  Unmark in-between very poor peaks?
  - Why doesn't 9246-9336 get marked?

* 162222, #41:
  - Why is wheel distance shown as 132-146?  Why does it work anyway?
  - Spurious peak (kink) at 1506 between 1449 and 1536

* 194406, #42:
  - Why is wheel distance shown as 182-188?  Why does it work anyway?
  - PeakMinima::markBogeysOfUnpaired:
    At the moment, one *** and one **
    If the distance is right and both are **, that's good enough?

s02
* odd left gradient occasionally
* Avoid spurious peaks between bogey-pair peaks
* Kink causes bad range and gradient
* When we have a reliable new wheel gap, mark some more gaps?



* PeakMinima:
  - Some TODO's (algorithmic errors, actually)
  - The second guessLongGapDistance doesn't pick up anything,
    as the second peak is always a bogey already?

* When car models complete?
  - recombine
  - mark cars accordingly (new indices)

Gap distance:
actual = 0, ref != 0: dist = 0
actual != 0, ref = 0: dist = inf
Both = 0: dist = 0
Neither = 0: actual


Cleaning up clusters
--------------------
3/21
4/38, 45-47, 49
5/36, 59
7/1, 3, 4, 6, 7, 8, 9, 10, 12, 14, 15, 19, 24-27, 32-36, 
  40, 42, 44, 46, 47
9/0, 2, 5, 6, 8, 9, 10, 13, 14, 16, 19, 20, ...

Next issues:
- Peaks in e.g sensor09 are noisy at the bottom,
  which disturbs index and gradient

Look graphically for misses

2018-09-17
----------
Give out the whole PeakList, don't copy into PeakTime?
Also output the likely number of missed front peaks


2018-09-14
----------
Maybe transients can be reduced with filter padding as in filtfilt.


2018-09-02
----------
* Add separate timers for pre-align and align
* And for peak extraction

* Clean up driver.cpp

2018-07-17
----------
* Some _N and _R trains are almost impossible to separate
  - ICE4_DEU_28 is probably symmetric, in fact?
  - ICE2_DEU_48 ditto?
  - ICE1_old_CHE_56 ditto? [delete?]
  - ICE4_DEU_28 and ICET_DEU_28 have extremely similar ratios

* In doc, make the comments from Train axles.xlsx

* Files to finish:
  SynthTrain cpp and h
  driver.cpp

Visual          OK
mingw           OK
gcc
Mac gcc
Mac clang
Linux

Overall algorithm
-----------------

* Check against laser measurements!
* Output a diagram with the wagons suggested
* filtfilt padding, how?
* Make independent of sample rate (other than Butterworth?)
* Move to less padding in SegQuiet back
* Implement displacement algorithms
  - Our integration
  - Some kind of scalar product
  - Estimate parameters of the flanks?  What kind of function?
  - Also add timers
* Float (Accel) to double everywhere
* Simpson integration?
* Deconvolution of a "wheel response"?
* Move out code in driver and directories that is not used
