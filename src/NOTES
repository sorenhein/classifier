2018-09-13
----------
In Peak, maybe
- primary quantities: index, value, maxFlag, areaCum
- annotations requiring one or more neighbors: len (left/right),
  range, area, gradient, fill.  One-sided: Symmetry factor
- distance function(scale)
  level norm.
  len left norm.
  range left norm. [enters into gradient, maybe len is enough]
  area left / (0.5 * len * range) abs. as fill factor
  gradient range left / len left, probably norm.
  symmetry, maybe area/area

  
We often get the 2nd of maxima above the line.  sensor34, 180956, #2.

Maybe transients can be reduced with filter padding as in filtfilt.

Do we need to reduce positive minima?  Negative maxima?

Eliminate clusters based on unusual single-parameter values?


2018-09-02
----------
* Improve the recognition (currently 1072 / 1778 = 60.3%)

* Add separate timers for pre-align and align

* Clean up driver.cpp

2018-07-17
----------
* Some _N and _R trains are almost impossible to separate
  - ICE4_DEU_28 is probably symmetric, in fact?
  - ICE2_DEU_48 ditto?
  - ICE1_old_CHE_56 ditto? [delete?]
  - ICE4_DEU_28 and ICET_DEU_28 have extremely similar ratios

* In doc, make the comments from Train axles.xlsx

* Files to finish:
  SynthTrain cpp and h
  driver.cpp

Visual          OK
mingw           OK
gcc
Mac gcc
Mac clang
Linux

Overall algorithm
-----------------

* Check against laser measurements!
* Output a diagram with the wagons suggested
* throw/catch with error codes (like Build)
* filtfilt padding, how?
* Make independent of sample rate (other than Butterworth?)
* Move to less padding in SegQuiet back
* Implement displacement algorithms
  - Our integration
  - Some kind of scalar product
  - Estimate parameters of the flanks?  What kind of function?
  - Also add timers
* Float (Accel) to double everywhere
* Simpson integration?
